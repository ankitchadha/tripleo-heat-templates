# A Heat environment file which can be used to enable OpenContrail
# extensions, configured via puppet
resource_registry:
  OS::TripleO::ComputeExtraConfigPre: ../puppet/extraconfig/pre_deploy/compute/neutron-opencontrail.yaml
  OS::TripleO::Services::NeutronDhcpAgent: OS::Heat::None
  OS::TripleO::Services::NeutronL3Agent: OS::Heat::None
  OS::TripleO::Services::NeutronMetadataAgent: OS::Heat::None
  OS::TripleO::Services::NeutronOvsAgent: OS::Heat::None
  OS::TripleO::Services::ComputeNeutronOvsAgent: OS::Heat::None
  # Override the NeutronCorePlugin to use Nuage
  OS::TripleO::Services::NeutronCorePlugin: OS::TripleO::Services::NeutronCorePluginOpencontrail
  OS::TripleO::Services::ComputeNeutronCorePlugin: ../puppet/services/neutron-compute-plugin-opencontrail.yaml
  # OS::TripleO::AllNodesExtraConfig: ../puppet/extraconfig/all_nodes/neutron-opencontrail-all-nodes.yaml
  # OS::TripleO::AllNodesExtraConfig: ../puppet/extraconfig/all_nodes/neutron-opencontrail-all-nodes.yaml
  # OS::TripleO::NodeExtraConfigPost: ../extraconfig/post_deploy/neutron-opencontrail-all-nodes.yaml
  #OS::TripleO::NodeExtraConfigPost: ../contrail/controller_post.yaml
  #OS::TripleO::ContrailControllerExtraConfigPost: ../contrail/controller_post.yaml

parameter_defaults:
  NeutronCorePlugin: neutron_plugin_contrail.plugins.opencontrail.contrail_plugin.NeutronPluginContrailCoreV2
  NeutronServicePlugins: ''
  NeutronTunnelTypes: ''

  # required params:
  #ContrailApiServerIp:
  #ContrailExtensions: ''

  # optional params
  # ContrailApiServerPort: 8082
  # ContrailMultiTenancy: false
